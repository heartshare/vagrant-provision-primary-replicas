[maxscale]
threads=4

[Read Connection Router]
type=service
router=readconnroute
servers=master,slave1,slave2
user=maxadmin
passwd=maxpwd
router_options=slave

[Splitter Service]
type=service
router=readwritesplit
servers=master,slave1,slave2
user=maxadmin
passwd=maxpwd
max_slave_connections=100%
router_options=slave_selection_criteria=LEAST_CURRENT_OPERATIONS

[Debug Interface]
type=service
router=debugcli

[Read Connection Listener]
type=listener
service=Read Connection Router
protocol=MySQLClient
port=4008

[Splitter Listener]
type=listener
service=Splitter Service
protocol=MySQLClient
port=4006

[Debug Listener]
type=listener
service=Debug Interface
protocol=telnetd
port=4442

[MaxAdmin]
type=service
router=cli

[MaxAdmin Unix Listener]
type=listener
service=MaxAdmin
protocol=maxscaled
socket=default

[MaxAdmin Inet Listener]
type=listener
service=MaxAdmin
protocol=maxscaled
address=localhost
port=6603
###############################################################################
[master]
type=server
address=192.168.18.20
port=3306
protocol=MySQLBackend

[slave1]
type=server
address=192.168.18.21
port=3306
protocol=MySQLBackend

[slave2]
type=server
address=192.168.18.22
port=3306
protocol=MySQLBackend
